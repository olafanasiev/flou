<div [attr.theme]="theme.name" [style.height.px]="appHeight" class="main-canvas">
  <app-item-context-menu></app-item-context-menu>
  <div (dblclick)="addPage($event)" id="pages-wrapper">
    <div id="pages" class="pages">
      <app-page (pageDeleted)="onPageDelete($event)" [style.top.px]="page.y" [style.left.px]="page.x" [page]="page"
                *ngFor="let page of pages">
      </app-page>
    </div>
  </div>
  <ngx-snackbar [position]="'top-center'" [max]="3"></ngx-snackbar>
  <div class="right-bottom-main-panel">
    <div></div>
    <div class="right-bottom-main-panel-icons-container">
      <button (click)="changeTheme()" id="change-theme-button" class="button">
        <svg xmlns="http://www.w3.org/2000/svg" width="40" viewBox="0 0 80.662 77.908">
          <path class="flou-palette stroke-none" data-name="change theme"
                d="M902.006-594.622a5.96,5.96,0,0,0-8.575,0l-33.287,34.185a6.354,6.354,0,0,0,0,8.806l1.665,1.709A5.942,5.942,0,0,0,866.1-548.1a5.94,5.94,0,0,0,4.287-1.818l33.287-34.184a6.353,6.353,0,0,0,0-8.806Zm.05,8.857L868.769-551.58a3.7,3.7,0,0,1-2.673,1.131,3.7,3.7,0,0,1-2.672-1.131h0l-1.665-1.709a3.961,3.961,0,0,1,0-5.49l33.287-34.184a3.719,3.719,0,0,1,2.673-1.135,3.72,3.72,0,0,1,2.674,1.135l1.664,1.709A3.962,3.962,0,0,1,902.056-585.764Zm-2.149-17.168,10.75,3.031,2.951,11.04a1.822,1.822,0,0,0,1.766,1.383,1.821,1.821,0,0,0,1.766-1.383l2.951-11.04,10.75-3.031a1.855,1.855,0,0,0,1.347-1.814,1.854,1.854,0,0,0-1.347-1.813l-10.75-3.03-2.951-11.04a1.821,1.821,0,0,0-1.766-1.383,1.822,1.822,0,0,0-1.766,1.383l-2.951,11.04-10.749,3.03a1.855,1.855,0,0,0-1.347,1.813A1.855,1.855,0,0,0,899.907-602.932Zm11.6-4.466a1.864,1.864,0,0,0,1.28-1.316l2.583-9.663,2.583,9.665a1.866,1.866,0,0,0,1.281,1.315l9.411,2.652-9.411,2.653a1.868,1.868,0,0,0-1.282,1.316l-2.583,9.664-2.583-9.662a1.864,1.864,0,0,0-1.282-1.317l-9.41-2.653Zm22.3,33.476-8.038-2.266-2.207-8.255h0a1.658,1.658,0,0,0-1.608-1.258h0a1.657,1.657,0,0,0-1.606,1.259l-2.207,8.255-8.037,2.266a1.688,1.688,0,0,0-1.226,1.651,1.687,1.687,0,0,0,1.226,1.65l8.037,2.266,2.207,8.254a1.657,1.657,0,0,0,1.606,1.259h0a1.658,1.658,0,0,0,1.608-1.259l2.207-8.254,8.038-2.266a1.687,1.687,0,0,0,1.226-1.65A1.688,1.688,0,0,0,933.808-573.922Zm-8.98,3.4a1.7,1.7,0,0,0-1.167,1.2l-1.7,6.377-1.7-6.377a1.7,1.7,0,0,0-1.166-1.2l-6.21-1.75,6.211-1.751a1.7,1.7,0,0,0,1.165-1.2l1.7-6.377,1.7,6.378a1.7,1.7,0,0,0,1.166,1.2l6.21,1.75Zm-48.874-37.8,5.368,1.514L882.8-601.3a1.5,1.5,0,0,0,1.452,1.138A1.5,1.5,0,0,0,885.7-601.3l1.474-5.513,5.369-1.514a1.524,1.524,0,0,0,1.106-1.49,1.524,1.524,0,0,0-1.106-1.491l-5.369-1.513-1.474-5.512a1.5,1.5,0,0,0-1.451-1.137,1.5,1.5,0,0,0-1.452,1.136l-1.474,5.513-5.368,1.513a1.525,1.525,0,0,0-1.107,1.491A1.524,1.524,0,0,0,875.954-608.324Zm6.4-2.353a1.534,1.534,0,0,0,1.053-1.082l.84-3.144.841,3.145a1.532,1.532,0,0,0,1.053,1.08l3.061.863-3.059.863a1.53,1.53,0,0,0-1.056,1.082l-.841,3.144-.84-3.144a1.529,1.529,0,0,0-1.053-1.081l-3.061-.863Z"
                transform="translate(-858.371 622.012)"/>7
        </svg>
      </button>
      <button (click)="export()" id="save-button" class="button">
        <svg xmlns="http://www.w3.org/2000/svg" width="40" viewBox="0 0 68.984 73.316">
          <path class="flou-palette stroke-none" data-name="save file" d="M472.414-612.566l-6.895-6.978a1.053,1.053,0,0,0-.75-.313H418.976a5.229,5.229,0,0,0-5.246,5.2v52.915a5.229,5.229,0,0,0,5.246,5.2h48.493a5.229,5.229,0,0,0,5.246-5.2v-50.1A1.036,1.036,0,0,0,472.414-612.566Zm-13-5.21v18.427H430.768v-18.427ZM423.726-558.62v-27.609a3.137,3.137,0,0,1,3.147-3.12h32.7a3.137,3.137,0,0,1,3.147,3.12v27.609Zm46.89-3.12a3.137,3.137,0,0,1-3.147,3.12h-2.651v-27.609a5.229,5.229,0,0,0-5.246-5.2h-32.7a5.229,5.229,0,0,0-5.246,5.2v27.609h-2.652a3.137,3.137,0,0,1-3.147-3.12v-52.915a3.137,3.137,0,0,1,3.147-3.12h9.694v19.467a1.045,1.045,0,0,0,1.049,1.04H460.46a1.045,1.045,0,0,0,1.049-1.04v-19.467h2.82l6.287,6.363Zm-12.841-16.2a1.045,1.045,0,0,1-1.049,1.04H429.719a1.045,1.045,0,0,1-1.049-1.04,1.045,1.045,0,0,1,1.049-1.04h27.006A1.045,1.045,0,0,1,457.774-577.944Zm0,7.92a1.045,1.045,0,0,1-1.049,1.04H429.719a1.045,1.045,0,0,1-1.049-1.04,1.045,1.045,0,0,1,1.049-1.04h27.006A1.045,1.045,0,0,1,457.774-570.025Zm-14.789-43.9a1.045,1.045,0,0,1,1.049-1.04H455a1.045,1.045,0,0,1,1.049,1.04v10.792A1.045,1.045,0,0,1,455-602.1a1.044,1.044,0,0,1-1.049-1.04v-9.752h-9.917A1.045,1.045,0,0,1,442.986-613.93Z" transform="translate(-413.73 619.856)"/>
        </svg>
        <a class="export-state-link" #downloadLink href="#"></a>
      </button>
      <button (click)="importApp.click()" id="open-button" class="button">
        <svg xmlns="http://www.w3.org/2000/svg" width="40"  viewBox="0 0 74.87 57.348">
          <path class="flou-palette stroke-none" data-name="open  file" d="M676.438-598.279a4.983,4.983,0,0,0-4.065-2.094h-7.459v-5.017a4.942,4.942,0,0,0-4.962-4.911H628.53v-2.16a4.942,4.942,0,0,0-4.962-4.911H607.427a4.942,4.942,0,0,0-4.962,4.911v51.455c0,.026.006.052.008.078s0,.053.008.08a.925.925,0,0,0,.039.153c.006.018.01.037.017.055a.98.98,0,0,0,.1.191l0,.007c.007.01.017.017.024.027a.966.966,0,0,0,.117.129c.018.016.037.031.056.046a1,1,0,0,0,.122.083c.021.012.042.024.064.034a.94.94,0,0,0,.147.055c.02.006.039.014.06.018a1.006,1.006,0,0,0,.222.027h60.464a.991.991,0,0,0,.932-.646l12.182-33.113A4.871,4.871,0,0,0,676.438-598.279Zm-69.011-17.128h16.141a2.965,2.965,0,0,1,2.977,2.946v3.142a.987.987,0,0,0,.992.982h32.414a2.965,2.965,0,0,1,2.977,2.946v5.017H620.359a4.975,4.975,0,0,0-4.663,3.231L604.45-566.573V-612.46A2.965,2.965,0,0,1,607.427-615.407Zm67.744,20.952-11.944,32.467H604.875L617.56-596.47a2.987,2.987,0,0,1,2.8-1.939h52.015a2.95,2.95,0,0,1,2.439,1.256A2.885,2.885,0,0,1,675.171-594.454Z" transform="translate(-602.465 617.371)"/>
        </svg>
      </button>
      <button (click)="clearApp()" class="button">
        <svg xmlns="http://www.w3.org/2000/svg" width="33" viewBox="0 0 64.091 69.773">
          <path class="flou-palette stroke-none" data-name="clear screen" d="M521.3,329.981V305.69a1,1,0,1,1,2,0v24.291a1,1,0,0,1-2,0Zm8.854,3.756a1,1,0,0,0,1-1v-29.8a1,1,0,1,0-2,0v29.8A1,1,0,0,0,530.159,333.737Zm7.855-2.756a1,1,0,0,0,1-1V305.69a1,1,0,1,0-2,0v24.291A1,1,0,0,0,538.014,330.981Zm23.859-39.661a4.324,4.324,0,0,1-4.319,4.32h-1.7v40.374a9.01,9.01,0,0,1-9,9h-33.4a9.01,9.01,0,0,1-9-9V295.64H502.1a4.32,4.32,0,0,1,0-8.64h17.1v-3.6a8.167,8.167,0,0,1,8.158-8.157h5.454a8.167,8.167,0,0,1,8.158,8.157V287h16.586A4.324,4.324,0,0,1,561.873,291.32ZM521.2,287h17.77v-3.6a6.165,6.165,0,0,0-6.158-6.157h-5.454A6.165,6.165,0,0,0,521.2,283.4Zm32.661,8.64h-47.4v40.374a7.008,7.008,0,0,0,7,7h33.4a7.008,7.008,0,0,0,7-7Zm6.014-4.32a2.322,2.322,0,0,0-2.319-2.32H502.1a2.32,2.32,0,0,0,0,4.64h55.452A2.322,2.322,0,0,0,559.873,291.32Z" transform="translate(-497.782 -275.241)"/>
        </svg>
      </button>
      <button (click)="addPage(null)" id="new-page" class="button">
        <svg xmlns="http://www.w3.org/2000/svg" width="35" viewBox="0 0 68.041 75.775">
          <path class="flou-palette stroke-none" data-name="add block" d="M236.733-575.117a1.077,1.077,0,0,1-1.094,1.059h-8.756v8.475a1.077,1.077,0,0,1-1.095,1.059,1.077,1.077,0,0,1-1.094-1.059v-8.475h-8.756a1.077,1.077,0,0,1-1.094-1.059,1.077,1.077,0,0,1,1.094-1.059h8.756v-8.475a1.077,1.077,0,0,1,1.094-1.059,1.078,1.078,0,0,1,1.095,1.059v8.475h8.756A1.078,1.078,0,0,1,236.733-575.117Zm10.117,0c0,11.241-9.449,20.387-21.062,20.387a21.038,21.038,0,0,1-20.035-14.107H184.281a5.393,5.393,0,0,1-5.472-5.3v-51.075a5.393,5.393,0,0,1,5.472-5.3h25.87a1.132,1.132,0,0,1,.215.021c.033.006.064.019.1.028a1.06,1.06,0,0,1,.106.032c.034.014.066.033.1.049s.06.029.088.047a.965.965,0,0,1,.091.071c.022.017.046.032.067.051L227.363-614.8l.005.006a1.063,1.063,0,0,1,.1.112c.013.016.029.031.041.047a1.031,1.031,0,0,1,.189.6v18.621C238.418-594.479,246.85-585.736,246.85-575.117Zm-35.6-43.158a3.235,3.235,0,0,0,3.283,3.178H223.9l-12.651-11.85Zm-6.078,47.32a19.782,19.782,0,0,1-.443-4.162c0-11.15,9.3-20.233,20.782-20.38v-17.481H214.529a5.393,5.393,0,0,1-5.472-5.3v-10.112H184.281A3.236,3.236,0,0,0,181-625.209v51.075a3.235,3.235,0,0,0,3.283,3.178Zm39.493-4.162c0-10.073-8.466-18.268-18.873-18.268s-18.874,8.195-18.874,18.268,8.467,18.268,18.874,18.268S244.661-565.044,244.661-575.117Z" transform="translate(-178.809 630.506)"/>
        </svg>
      </button>
      <input (change)="import($event)" value="" accept="application/json" class="import--hidden" #importApp name="file"
             type="file"/>
    </div>
  </div>
</div>
